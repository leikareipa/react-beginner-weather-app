"use strict";export function fmi_weather_api(){return{get_forecast:async(a={})=>{a={...{place:"Helsinki",returnParameters:["temperature","weatherSymbol3"],timeStepHr:3,numForecasts:5},...a};const b=await fetch("./misc/weather-data.xml").then(a=>a.text()),c=(()=>{const a=new DOMParser().parseFromString(b,"text/xml"),c=a.getElementsByTagName("gml:doubleOrNilReasonTupleList");return c.length?c[0].firstChild.nodeValue.split(" ").filter(a=>""!=a.trim()):[]})(),d=new Date((()=>{const a=new DOMParser().parseFromString(b,"text/xml"),c=a.getElementsByTagName("gml:beginPosition");return c.length?c[0].firstChild.nodeValue:Date.now()})());if(0!=c.length%a.returnParameters.length)return[];const e=[];for(let b=0;b<Math.min(a.numForecasts,c.length/a.returnParameters.length);b++)e.push(a.returnParameters.reduce((d,e,f)=>({...d,[e]:+c[b*a.returnParameters.length+f]}),{timestamp:new Date(d).setHours(d.getHours()+a.timeStepHr*b)}));return e}}}